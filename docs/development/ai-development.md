# AI 开发指南
规则：
禁用枚举
组件的导入方式为命名导入

## 1. Cursor Agent 开发流程

### 1.1 开发阶段
1. 项目初始化阶段 ✓
   - 产品设计 ✓
   - 版本计划 ✓
   - 开发环境搭建 ✓

2. 项目计划阶段 ✓
   - 设计开发计划 ✓
   - 任务进度跟踪 ✓
   - 质量控制机制 ✓

3. 项目实施阶段 (进行中)
   - 原子功能分解 ✓
   - 功能开发 (待开始)
   - 测试与文档 (待开始)

### 1.2 当前状态
- 数据库模型设计完成
- 基础项目结构搭建完成
- 开发环境配置完成
- 任务管理API完成
- 任务列表组件开发完成
  - TaskList组件实现完成
  - TaskCard组件实现完成
  - TaskFilters组件实现完成
  - TaskSort组件实现完成
  - 所有组件单元测试完成
- 任务表单组件开发完成
  - TaskForm组件实现完成
  - 表单验证功能完成
  - 单元测试完成
- 任务管理页面开发完成
  - 组件集成完成
  - 布局实现完成
  - 交互功能实现完成
- 任务详情展示开发完成
  - TaskDetail组件实现完成
  - Badge组件实现完成
  - 单元测试完成
  - 任务详情数据获取实现完成
  - 任务详情展示布局实现完成

### 1.3 开发计划
#### 版本规划
- v0.1.0: 基础架构与用户认证 ✓
- v0.2.0: 任务管理核心功能 (进行中)
  - [x] 任务数据模型
  - [x] 任务管理API
  - [x] 任务列表组件
  - [x] 任务表单组件
  - [x] 任务管理页面组件集成
  - [x] 任务详情展示
    - [x] 任务详情组件
    - [x] 任务详情数据获取
    - [x] 任务详情展示布局
  - [ ] 任务编辑功能
- v0.3.0: 教务管理功能
- v0.4.0: 团队协作功能
- v0.5.0: 数据统计功能
- v0.6.0: 系统优化与完善

#### 当前版本 (v0.2.0) 计划
1. 任务管理功能
   - [x] 任务数据模型
   - [x] 任务管理API
   - [x] 任务列表组件
   - [x] 任务表单组件
   - [x] 任务管理页面组件集成
   - [x] 任务详情展示
     - [x] 任务详情组件
     - [x] 任务详情数据获取
     - [x] 任务详情展示布局
   - [ ] 任务编辑功能

2. 任务进度
   - [x] 任务数据模型设计
   - [x] 任务API实现
   - [x] 任务列表组件开发
   - [x] 任务表单组件开发
   - [x] 任务管理页面组件集成
   - [-] 任务详情展示开发
     - [x] 任务详情组件开发
     - [ ] 任务详情数据获取实现
     - [ ] 任务详情展示布局实现
   - [ ] 任务编辑功能开发

3. 下一步任务
   - 实现任务编辑功能
     1. 任务编辑API ✓
        - 创建updateTask接口 ✓
        - 添加输入验证 ✓
        - 实现错误处理 ✓
        - 编写单元测试 ✓
     2. 任务编辑表单组件
        - 创建TaskEditForm组件
        - 实现表单验证
        - 实现错误处理
        - 添加加载状态
     3. 任务编辑页面
        - 创建编辑页面路由
        - 集成TaskEditForm组件
        - 实现编辑成功后的跳转

### 1.4 文件索引
```
docs/
├── development/
│   ├── workflow.md          # 开发工作流指南
│   ├── ai-development.md    # AI开发指南
│   ├── cursor-guidelines.md # Cursor IDE使用指南
│   └── tasks/              # 开发任务分解
│       ├── v0.1.0-tasks.md # 基础架构与用户认证任务
│       ├── v0.2.0-tasks.md # 任务管理核心功能任务
│       ├── v0.3.0-tasks.md # 教务管理功能任务
│       ├── v0.4.0-tasks.md # 团队协作功能任务
│       ├── v0.5.0-tasks.md # 数据统计功能任务
│       └── v0.6.0-tasks.md # 系统优化与完善任务
├── product/
│   ├── guide.md            # 产品文档编写规范
│   └── prd/
│       ├── product-design.md # 产品设计文档
│       ├── user-stories.md   # 用户故事
│       └── data-model.md     # 数据模型设计
└── test-reports/
    └── guide.md            # 测试文档编写规范

prisma/
└── schema.prisma           # 数据库模型定义

src/
├── app/                    # Next.js App Router 页面
├── components/            # React 组件
├── lib/                   # 工具函数和共享逻辑
└── types/                # TypeScript 类型定义
```

### 1.5 开发优先级
1. 用户认证系统
   - 登录/注册功能
   - 权限管理
   - 用户管理

2. 任务管理核心功能
   - 任务创建与分配
   - 任务状态管理
   - 任务列表视图

3. 教务管理功能
   - 课程管理
   - 教学计划
   - 教务通知

4. 团队协作功能
   - 团队管理
   - 任务协作
   - 通知系统

5. 数据统计功能
   - 任务统计
   - 教学质量分析
   - 报表生成

### 1.6 质量控制
- 代码规范检查
- 单元测试覆盖
- 集成测试
- 性能测试
- 安全测试

## 2. AI 提示词规范

### 2.1 基本原则
- 清晰明确的指令
- 完整的上下文信息
- 具体的输出要求
- 错误处理机制

### 2.2 提示词模板
1. 功能开发
```
开发任务：[具体功能描述]
输入：[需要的输入数据]
输出：[期望的输出结果]
要求：
- [具体要求1]
- [具体要求2]
- [具体要求3]
```

2. 代码审查
```
审查范围：[文件或代码块]
关注点：
- 代码质量
- 性能优化
- 安全问题
- 最佳实践
```

3. 问题修复
```
问题描述：[具体问题]
当前行为：[现有表现]
期望行为：[期望结果]
相关代码：[代码位置]
```

### 2.3 最佳实践
1. 代码生成
   - 提供完整上下文
   - 指定具体需求
   - 包含错误处理
   - 要求代码注释

2. 代码优化
   - 明确优化目标
   - 提供性能指标
   - 指定约束条件
   - 要求兼容性

3. 问题诊断
   - 提供错误信息
   - 描述复现步骤
   - 列出尝试方案
   - 指定期望结果

## 3. AI 开发规范

### 3.1 代码生成规范
- 使用TypeScript类型
- 遵循项目架构
- 保持代码风格
- 添加必要注释

### 3.2 代码审查规范
- 性能检查
- 安全审查
- 代码质量
- 测试覆盖

### 3.3 文档生成规范
- API文档
- 使用说明
- 开发指南
- 部署文档

## 4. AI 协作流程

### 4.1 开发流程
1. 需求分析
   - 使用AI辅助分析需求
   - 生成功能规格说明
   - 创建任务分解清单

2. 功能开发
   - AI生成代码框架
   - 人工审查和修改
   - AI优化和完善

3. 测试验证
   - AI生成测试用例
   - 自动化测试执行
   - 问题诊断和修复

### 4.2 代码审查
1. 自动检查
   - 代码风格
   - 潜在问题
   - 性能瓶颈

2. AI审查
   - 逻辑检查
   - 最佳实践
   - 安全漏洞

3. 人工确认
   - 业务逻辑
   - 架构设计
   - 最终决策

### 4.3 文档维护
1. 自动生成
   - API文档
   - 类型定义
   - 使用示例

2. AI更新
   - 文档同步
   - 示例更新
   - 版本记录

3. 人工审核
   - 内容准确性
   - 完整性检查
   - 可读性优化

## 5. 质量控制

### 5.1 代码质量
- 自动化检查
- AI代码审查
- 性能测试
- 安全扫描

### 5.2 文档质量
- 完整性检查
- 准确性验证
- 可读性优化
- 版本控制

### 5.3 测试质量
- 测试覆盖率
- 自动化测试
- 性能测试
- 安全测试

## Select组件测试

Select组件已完成单元测试,测试覆盖以下方面:
- 基本渲染功能
- 用户交互(点击显示选项)
- 选择功能
- 禁用状态
- 自定义样式支持

测试用例位于 `src/components/ui/__tests__/select.test.tsx`. 